{"remainingRequest":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mia/Documents/wxypapp/Vue-shopping/vue/src/views/MyOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/src/views/MyOrder.vue","mtime":1554103443664},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Scroll from 'public/Scroll'\nimport {vuexData} from 'js/mixin'\nexport default {\n    name: 'MyOarder',\n    mixins: [vuexData],\n    data() {\n        return {\n            currentActive: 0,\n            list: '',\n            defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n            tabs:['全部','待支付','待发货','待收货','已完成'],\n        }\n    },\n    components: {\n        Scroll\n    },\n\n    methods: {\n        change(i) {\n            this.currentActive = i\n        },\n     \n        status(status) {\n            if (status == 1) {\n                return '待支付'\n            } else if(status == 2) {\n                return '待发货'\n            } else if(status == 3) {\n                return '待收货'\n            }else if(status == 5){\n                return '已完成'\n            }\n        },\n        async getMyOrder() {\n            try {\n                this.showFlag = true\n                const {data} = await this.Api.getMyOrder()\n                if (data.code == 200) {\n                    this.showFlag = false\n                    this.list = data.list\n                } else {\n                    this.showFlag = false\n                }\n            } catch (error) {\n                this.$toast('网络错误')\n                this.showFlag = false\n            }\n        }\n    },\n\n    created() {\n        let status = this.$route.query.status\n        if (status) {\n            this.currentActive = status\n            \n        } \n        this.getMyOrder()\n    },\n}\n",{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"MyOrder.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <!-- 我的订单列表 -->\n    <div class=\"order-warp\">\n        <van-nav-bar\n        title=\"我的订单\"\n        left-arrow\n        @click-left=\"back\"\n      />\n        <van-tabs v-model=\"currentActive\" @change='change'>\n            <van-tab :title=\"val\" v-for=\"(val,index) in tabs\" :key=\"index\">\n                <Scroll v-show=\"!showFlag\" :data='list' ref=\"scroll\" class=\"scroll\">\n                    <div class=\"wap\">\n                        <div v-for=\"value in list\" :key=\"value.order_id\" > \n                            <div v-if=\"value.status==currentActive\"  class=\"list-warp\" >\n                                <div class='top border-bottom'>\n                                    <div>订单编号: {{value.order_id}}</div>\n                                    <div class=\"order-ok\">{{status(value.status)}}</div>\n                                </div>\n                                <div class=\"list\" v-for=\"val in value.order_list\" :key=\"val._id\">\n                                    <img class=\"good-img\" :src=\"val.image_path\" :onerror=\"defaultImg\">\n                                    <div class=\"good-title\">{{val.name}}</div>\n                                    <div class=\"good-count\">\n                                        <p>￥{{val.mallPrice}}</p>\n                                        <p class=\"count\">x{{val.count}}</p>\n                                    </div>\n                                </div>\n                                <div class=\"timre bottom border-top\">创建时间: {{value.add_time}}</div>\n                                <div class=\"bottom\">收货地址: {{value.address}}</div>\n                                <div class=\"bottom\">共 {{value.order_list.length}} 件商品   合计: {{value.mallPrice}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-if=\"!list.length && !showFlag\" class=\"null\">\n                        {{userName&&!showFlag? '暂无订单~~' : '请先登录噢~~'}}\n                    </div>\n                </Scroll>\n            </van-tab>\n        </van-tabs>\n         <BaseLoding :showFlag='showFlag'/>\n    </div>\n</template>\n\n<script>\nimport Scroll from 'public/Scroll'\nimport {vuexData} from 'js/mixin'\nexport default {\n    name: 'MyOarder',\n    mixins: [vuexData],\n    data() {\n        return {\n            currentActive: 0,\n            list: '',\n            defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n            tabs:['全部','待支付','待发货','待收货','已完成'],\n        }\n    },\n    components: {\n        Scroll\n    },\n\n    methods: {\n        change(i) {\n            this.currentActive = i\n        },\n     \n        status(status) {\n            if (status == 1) {\n                return '待支付'\n            } else if(status == 2) {\n                return '待发货'\n            } else if(status == 3) {\n                return '待收货'\n            }else if(status == 5){\n                return '已完成'\n            }\n        },\n        async getMyOrder() {\n            try {\n                this.showFlag = true\n                const {data} = await this.Api.getMyOrder()\n                if (data.code == 200) {\n                    this.showFlag = false\n                    this.list = data.list\n                } else {\n                    this.showFlag = false\n                }\n            } catch (error) {\n                this.$toast('网络错误')\n                this.showFlag = false\n            }\n        }\n    },\n\n    created() {\n        let status = this.$route.query.status\n        if (status) {\n            this.currentActive = status\n            \n        } \n        this.getMyOrder()\n    },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.order-warp\n    position fixed\n    top 0\n    left 0\n    right 0\n    bottom 0\n    z-index 500\n    background #Fff\n    .scroll\n        position fixed\n        top 84px\n        bottom 0px\n        left 0\n        right 0\n        overflow hidden\n        background #F2F2F2\n        .wap\n            padding 5px 0\n            .list-warp\n                margin 10px\n                box-sizing border-box\n                padding 15px 10px\n                background #fff\n                border-radius 10px\n                .top\n                    display flex\n                    justify-content space-between\n                    padding-bottom 10px\n                    .order-ok\n                        color #D2591B\n                .list\n                    display flex    \n                    height 80px\n                    margin-top 15px\n                    font-size 0\n                    .good-img\n                        flex 0 0 80px\n                        width 80px\n                        height 100%\n                        border-radius 10px\n                        margin-right 10px\n                        border 1px solid #eee\n                    .good-title\n                        flex 1\n                        margin-top 3px\n                        line-height 1.4\n                        font-size 13px\n                        letter-spacing 0.5px\n                        margin-right 10px\n                    .good-count\n                        float 0 0 15%     \n                        text-align right   \n                        margin-top 5px\n                        font-size 13px\n                        .count\n                            margin-top 5px\n                            color #bbb\n                .bottom\n                    text-align right      \n                    margin-top 10px    \n                .timre\n                    margin-top 10px\n                    padding-top 10px\n</style>\n\n"]}]}