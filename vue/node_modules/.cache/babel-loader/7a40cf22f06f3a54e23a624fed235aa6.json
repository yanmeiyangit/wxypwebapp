{"remainingRequest":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mia/Documents/wxypapp/Vue-shopping/vue/src/views/MyOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/src/views/MyOrder.vue","mtime":1554103443664},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mia/Documents/wxypapp/Vue-shopping/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Scroll from 'public/Scroll';\nimport { vuexData } from 'js/mixin';\nexport default {\n  name: 'MyOarder',\n  mixins: [vuexData],\n  data: function data() {\n    return {\n      currentActive: 0,\n      list: '',\n      defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n      tabs: ['全部', '待支付', '待发货', '待收货', '已完成']\n    };\n  },\n  components: {\n    Scroll: Scroll\n  },\n  methods: {\n    change: function change(i) {\n      this.currentActive = i;\n    },\n    status: function status(_status) {\n      if (_status == 1) {\n        return '待支付';\n      } else if (_status == 2) {\n        return '待发货';\n      } else if (_status == 3) {\n        return '待收货';\n      } else if (_status == 5) {\n        return '已完成';\n      }\n    },\n    getMyOrder: function () {\n      var _getMyOrder = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.showFlag = true;\n                _context.next = 4;\n                return this.Api.getMyOrder();\n\n              case 4:\n                _ref = _context.sent;\n                data = _ref.data;\n\n                if (data.code == 200) {\n                  this.showFlag = false;\n                  this.list = data.list;\n                } else {\n                  this.showFlag = false;\n                }\n\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                this.$toast('网络错误');\n                this.showFlag = false;\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      function getMyOrder() {\n        return _getMyOrder.apply(this, arguments);\n      }\n\n      return getMyOrder;\n    }()\n  },\n  created: function created() {\n    var status = this.$route.query.status;\n\n    if (status) {\n      this.currentActive = status;\n    }\n\n    this.getMyOrder();\n  }\n};",{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,MAAA,MAAA,eAAA;AACA,SAAA,QAAA,QAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,MAAA,EAAA,CAAA,QAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,CADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,eAAA,OAAA,CAAA,aAAA,CAAA,GAAA,GAHA;AAIA,MAAA,IAAA,EAAA,CAAA,IAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA;AAJA,KAAA;AAMA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAXA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,CADA,EACA;AACA,WAAA,aAAA,GAAA,CAAA;AACA,KAHA;AAKA,IAAA,MALA,kBAKA,OALA,EAKA;AACA,UAAA,OAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA,IAAA,OAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA,IAAA,OAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA,IAAA,OAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA;AACA,KAfA;AAgBA,IAAA,UAhBA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,qBAAA,QAAA,GAAA,IAAA;AAlBA;AAAA,uBAmBA,KAAA,GAAA,CAAA,UAAA,EAnBA;;AAAA;AAAA;AAmBA,gBAAA,IAnBA,QAmBA,IAnBA;;AAoBA,oBAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,uBAAA,QAAA,GAAA,KAAA;AACA,uBAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,iBAHA,MAGA;AACA,uBAAA,QAAA,GAAA,KAAA;AACA;;AAzBA;AAAA;;AAAA;AAAA;AAAA;AA2BA,qBAAA,MAAA,CAAA,MAAA;AACA,qBAAA,QAAA,GAAA,KAAA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAfA;AAgDA,EAAA,OAhDA,qBAgDA;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA;;AACA,QAAA,MAAA,EAAA;AACA,WAAA,aAAA,GAAA,MAAA;AAEA;;AACA,SAAA,UAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\n    <!-- 我的订单列表 -->\n    <div class=\"order-warp\">\n        <van-nav-bar\n        title=\"我的订单\"\n        left-arrow\n        @click-left=\"back\"\n      />\n        <van-tabs v-model=\"currentActive\" @change='change'>\n            <van-tab :title=\"val\" v-for=\"(val,index) in tabs\" :key=\"index\">\n                <Scroll v-show=\"!showFlag\" :data='list' ref=\"scroll\" class=\"scroll\">\n                    <div class=\"wap\">\n                        <div v-for=\"value in list\" :key=\"value.order_id\" > \n                            <div v-if=\"value.status==currentActive\"  class=\"list-warp\" >\n                                <div class='top border-bottom'>\n                                    <div>订单编号: {{value.order_id}}</div>\n                                    <div class=\"order-ok\">{{status(value.status)}}</div>\n                                </div>\n                                <div class=\"list\" v-for=\"val in value.order_list\" :key=\"val._id\">\n                                    <img class=\"good-img\" :src=\"val.image_path\" :onerror=\"defaultImg\">\n                                    <div class=\"good-title\">{{val.name}}</div>\n                                    <div class=\"good-count\">\n                                        <p>￥{{val.mallPrice}}</p>\n                                        <p class=\"count\">x{{val.count}}</p>\n                                    </div>\n                                </div>\n                                <div class=\"timre bottom border-top\">创建时间: {{value.add_time}}</div>\n                                <div class=\"bottom\">收货地址: {{value.address}}</div>\n                                <div class=\"bottom\">共 {{value.order_list.length}} 件商品   合计: {{value.mallPrice}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-if=\"!list.length && !showFlag\" class=\"null\">\n                        {{userName&&!showFlag? '暂无订单~~' : '请先登录噢~~'}}\n                    </div>\n                </Scroll>\n            </van-tab>\n        </van-tabs>\n         <BaseLoding :showFlag='showFlag'/>\n    </div>\n</template>\n\n<script>\nimport Scroll from 'public/Scroll'\nimport {vuexData} from 'js/mixin'\nexport default {\n    name: 'MyOarder',\n    mixins: [vuexData],\n    data() {\n        return {\n            currentActive: 0,\n            list: '',\n            defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n            tabs:['全部','待支付','待发货','待收货','已完成'],\n        }\n    },\n    components: {\n        Scroll\n    },\n\n    methods: {\n        change(i) {\n            this.currentActive = i\n        },\n     \n        status(status) {\n            if (status == 1) {\n                return '待支付'\n            } else if(status == 2) {\n                return '待发货'\n            } else if(status == 3) {\n                return '待收货'\n            }else if(status == 5){\n                return '已完成'\n            }\n        },\n        async getMyOrder() {\n            try {\n                this.showFlag = true\n                const {data} = await this.Api.getMyOrder()\n                if (data.code == 200) {\n                    this.showFlag = false\n                    this.list = data.list\n                } else {\n                    this.showFlag = false\n                }\n            } catch (error) {\n                this.$toast('网络错误')\n                this.showFlag = false\n            }\n        }\n    },\n\n    created() {\n        let status = this.$route.query.status\n        if (status) {\n            this.currentActive = status\n            \n        } \n        this.getMyOrder()\n    },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.order-warp\n    position fixed\n    top 0\n    left 0\n    right 0\n    bottom 0\n    z-index 500\n    background #Fff\n    .scroll\n        position fixed\n        top 84px\n        bottom 0px\n        left 0\n        right 0\n        overflow hidden\n        background #F2F2F2\n        .wap\n            padding 5px 0\n            .list-warp\n                margin 10px\n                box-sizing border-box\n                padding 15px 10px\n                background #fff\n                border-radius 10px\n                .top\n                    display flex\n                    justify-content space-between\n                    padding-bottom 10px\n                    .order-ok\n                        color #D2591B\n                .list\n                    display flex    \n                    height 80px\n                    margin-top 15px\n                    font-size 0\n                    .good-img\n                        flex 0 0 80px\n                        width 80px\n                        height 100%\n                        border-radius 10px\n                        margin-right 10px\n                        border 1px solid #eee\n                    .good-title\n                        flex 1\n                        margin-top 3px\n                        line-height 1.4\n                        font-size 13px\n                        letter-spacing 0.5px\n                        margin-right 10px\n                    .good-count\n                        float 0 0 15%     \n                        text-align right   \n                        margin-top 5px\n                        font-size 13px\n                        .count\n                            margin-top 5px\n                            color #bbb\n                .bottom\n                    text-align right      \n                    margin-top 10px    \n                .timre\n                    margin-top 10px\n                    padding-top 10px\n</style>\n\n"],"sourceRoot":"src/views"}]}