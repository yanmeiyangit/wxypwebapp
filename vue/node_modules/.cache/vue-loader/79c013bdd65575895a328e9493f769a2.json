{"remainingRequest":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mia/Documents/wxypwebapp/vue/src/components/public/GoodsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mia/Documents/wxypwebapp/vue/src/components/public/GoodsList.vue","mtime":1554103443657},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {vuexData} from 'js/mixin'\n\nexport default {\n    mixins:[vuexData],\n    props: {\n        list: {\n            type: null,\n            default() {\n                return []\n            }\n        },\n\n        isSearch: {\n             type: Boolean,\n            default: false\n        },\n        isBrowse: {\n            type: Boolean,\n            default: false\n        },\n\n        isCollection: {\n            type: Boolean,\n            default: false\n        },\n\n        isOrder: {\n            type: Boolean,\n            default: false\n        },\n\n        searchVal: {\n            type: null,\n            default: ''\n        }\n\n        \n    },\n\n    computed: {\n        lists() {\n            return this.isBrowse ? 'list': ''\n        }\n    },\n\n    data() {\n        return {\n             defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n        }\n    },\n\n    methods: {\n  \n        // 清除单条浏览记录\n        close(item,index) {\n            this.$emit('close',item,index)\n        },\n\n        //搜索高亮\n        keyWord(str,value) {\n            if (this.isSearch) {\n                let replaceReg = new RegExp(value, 'g');\n                let replaceString = `<span style='color:red'>${value}</span>`\n                str = str.replace(replaceReg, replaceString);\n                return str\n            }\n            return str\n        },\n    }\n}\n",{"version":3,"sources":["GoodsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoodsList.vue","sourceRoot":"src/components/public","sourcesContent":["<template>\n    <!-- 商品列表组件 -->\n        <ul>\n        <li v-for=\"(item,index) in list\" :key=\"item._id || item.id\" class=\"good-item border-bottom\" @click=\"details(item)\">\n            <div class='border left' :class=\"{img2:isBrowse || isCollection || isOrder || isSearch}\">\n                <img :src=\"item.image || item.image_path\" :onerror=\"defaultImg\" >\n            </div>\n            <div>\n                <p class=\"p1\" v-html=\"keyWord(item.name,searchVal)\"></p>\n                <p class=\"p2\">\n                    <span class=\"pic\" v-if=\"isOrder\">￥{{(item.present_price * item.count).toFixed(2)}}</span>\n                    <span class=\"pic\" v-else>￥{{item.present_price}}</span>\n                    <span class=\"orl-pic\">{{item.orl_price}}</span>\n                    <span class=\"count\" v-if=\"isOrder\">x{{item.count}}</span>\n                </p>\n                \n            </div>\n            <div class=\"icon\" v-if=\"isBrowse || isCollection\">\n                    <van-icon name=\"close\" class=\"close\" @click.stop=\"close(item,index)\"/>\n                </div>\n        </li>\n        </ul>\n</template>\n\n<script>\nimport {vuexData} from 'js/mixin'\n\nexport default {\n    mixins:[vuexData],\n    props: {\n        list: {\n            type: null,\n            default() {\n                return []\n            }\n        },\n\n        isSearch: {\n             type: Boolean,\n            default: false\n        },\n        isBrowse: {\n            type: Boolean,\n            default: false\n        },\n\n        isCollection: {\n            type: Boolean,\n            default: false\n        },\n\n        isOrder: {\n            type: Boolean,\n            default: false\n        },\n\n        searchVal: {\n            type: null,\n            default: ''\n        }\n\n        \n    },\n\n    computed: {\n        lists() {\n            return this.isBrowse ? 'list': ''\n        }\n    },\n\n    data() {\n        return {\n             defaultImg: 'this.src=\"' + require('img/vue.jpg') + '\"',\n        }\n    },\n\n    methods: {\n  \n        // 清除单条浏览记录\n        close(item,index) {\n            this.$emit('close',item,index)\n        },\n\n        //搜索高亮\n        keyWord(str,value) {\n            if (this.isSearch) {\n                let replaceReg = new RegExp(value, 'g');\n                let replaceString = `<span style='color:red'>${value}</span>`\n                str = str.replace(replaceReg, replaceString);\n                return str\n            }\n            return str\n        },\n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\nul\n    background #fff\n    .good-item\n        height 100px\n        display flex\n        padding 10px 15px\n        box-sizing border-box\n        position relative\n        &.list-enter-active, &.list-leave-active \n            transition all .1s linear\n        &.list-enter, &.list-leave-to\n            height 0\n        &:last-child:before\n            border-bottom 0    \n        .left \n            flex 0 0 30%\n            width 30%\n            height 90%\n            img \n                width 100%\n                height 100%\n                box-shadow: 0 2px 8px #f0f1f2;\n        .img2\n            flex 0 0 25%\n            width 25%\n            height 100%    \n        div \n            flex 1    \n            p\n                text-align left\n                padding-left 20px\n            .p1\n                margin-bottom 20px\n                line-height 1.4\n                overflow:hidden; \n                text-overflow:ellipsis\n                display:-webkit-box\n                -webkit-box-orient:vertical\n                -webkit-line-clamp:2\n                font-size 13px\n            .p2    \n                .orl-pic\n                    text-decoration: line-through\n                    font-size 13px\n                .count\n                    float right    \n                .pic\n                    color #f00\n                    font-weight 700\n                    margin-right 5px \n        .icon\n            position absolute\n            display inline\n            right 10px\n            bottom 0\n            .close\n                padding 10px   \n\n</style>\n"]}]}