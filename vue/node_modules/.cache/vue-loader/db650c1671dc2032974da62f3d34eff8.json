{"remainingRequest":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mia/Documents/wxypwebapp/vue/src/components/home/HomeSearch.vue?vue&type=style&index=0&id=e59f0d52&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mia/Documents/wxypwebapp/vue/src/components/home/HomeSearch.vue","mtime":1554103443655},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-content\n    position fixed\n    top 44px\n    left 0\n    right 0\n    bottom 0px\n    z-index 500\n    background #fff\n    .scroll\n        height: 100%;\n        overflow: hidden;\n        .item \n            height 50px\n            line-height 50px\n            padding 0 15px\n            box-sizing border-box\n    .history-empty\n        text-align center\n        margin-top 100px        \n    .history\n        width 100%\n        padding 10px 20px\n        box-sizing border-box\n        display flex\n        flex-direction column\n        position absolute\n        top 0\n        left 0\n        .search-top\n            display flex\n            font-size 14px\n            justify-content space-between\n            margin-bottom 15px\n        .search-history\n            span \n                display inline-block\n                background #F7F7F7    \n                padding 8px 20px\n                border-radius 15px\n                margin-right 8px\n                margin-bottom 10px\n            .more\n                color #999\n                text-align center\n                margin-top 10px    \n                font\n                    display inline-block\n                    margin-left 5px\n                .tr\n                    transform rotate(180deg)    \n                    \n    .empty\n        text-align center\n        margin-top 100px\n        color #999        \n",{"version":3,"sources":["HomeSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"HomeSearch.vue","sourceRoot":"src/components/home","sourcesContent":["<template>\n<transition name='bounce'>\n    <div class=\"search-content\">\n        <Scroll :data='list' class=\"scroll\" :pullup='true' @scrollToEnd='scrollToEnd'>\n                <!-- <li class=\"item border-bottom\"  v-for=\"val of list\" @click=\"details(val)\" :key=\"val.id\" v-html=\"keyWord(val.name,value)\">\n                </li> -->\n            <GoodsList :isSearch='true' :list='list' :searchVal='value' @searchHistory='searchHistory'/>\n            <div class=\"empty\" v-show=\"len\">暂无搜索结果~~</div>\n        </Scroll>\n        <div class=\"history\" v-if=\"!value && historyList && historyList.length\">\n            <div class=\"search-top\">\n                <span>搜索历史</span>\n                <span class=\"delete\" @click=\"deletes\"><van-icon name=\"delete\" /></span>\n            </div>\n            <div class=\"search-history\">\n                <span v-for=\"(val,index) of historyList\" :key=\"index\" @click=\"vals(val)\">{{val}}</span>\n                <p class=\"more\" @click=\"more\" v-show=\"searchHistoryList.length>7\">{{limit==7?'更多搜索历史':'收起搜索历史'}}<font :class=\"{tr:limit>7}\">∨</font></p>\n            </div>\n        </div>\n        <div v-if=\"!list.length && !historyList.length && !len && !value\" class=\"history history-empty\">\n            暂无搜索历史\n        </div>\n    </div>\n\n</transition>      \n</template>\n\n<script>\nimport Scroll from 'public/Scroll'\nimport GoodsList from 'public/GoodsList'\nimport {vuexData} from 'js/mixin'\nexport default {\n    components: {\n        GoodsList,\n        Scroll\n    },\n    mixins:[vuexData],\n    props: {\n        list: {\n            ttype: Array,\n            default() {\n                return []\n            },\n            \n        },\n        len: {\n            type: Boolean,\n            default: false\n        },\n        value: {\n            type: String,\n            default: ''\n        }\n    },\n    data() {\n        return {\n            limit:5,\n            moreFlag: false\n        }\n    },\n    computed: {\n        historyList() {\n            if (!this.searchHistoryList) {\n                return\n            }\n            return this.searchHistoryList.slice(0,this.limit);\n        }\n        \n    },\n    methods: {\n        searchHistory() {\n            this.setSearchHistory(this.value)     // 加入搜索历史记录\n        },\n        more() {\n            if(this.limit==5){\n                this.moreFlag = true\n                this.limit = this.searchHistoryList.length;\n              }else{\n                this.limit = 5;\n                this.moreFlag = false\n              }\n        },\n        vals(val) {\n            this.$emit('vals',val)\n        },\n        deletes() {\n                // 清空搜索历史记录\n            $dialog.confirm({\n                    title: '提示',\n                    message: `确认删除搜索历史?`\n                }).then(() => {\n                     this.clearSearchHistory() \n                })\n        },\n        scrollToEnd() {\n            this.$emit('scrollToEnd')\n        }\n    },\n    \n    created() {\n     \n    },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.search-content\n    position fixed\n    top 44px\n    left 0\n    right 0\n    bottom 0px\n    z-index 500\n    background #fff\n    .scroll\n        height: 100%;\n        overflow: hidden;\n        .item \n            height 50px\n            line-height 50px\n            padding 0 15px\n            box-sizing border-box\n    .history-empty\n        text-align center\n        margin-top 100px        \n    .history\n        width 100%\n        padding 10px 20px\n        box-sizing border-box\n        display flex\n        flex-direction column\n        position absolute\n        top 0\n        left 0\n        .search-top\n            display flex\n            font-size 14px\n            justify-content space-between\n            margin-bottom 15px\n        .search-history\n            span \n                display inline-block\n                background #F7F7F7    \n                padding 8px 20px\n                border-radius 15px\n                margin-right 8px\n                margin-bottom 10px\n            .more\n                color #999\n                text-align center\n                margin-top 10px    \n                font\n                    display inline-block\n                    margin-left 5px\n                .tr\n                    transform rotate(180deg)    \n                    \n    .empty\n        text-align center\n        margin-top 100px\n        color #999        \n</style>"]}]}