{"remainingRequest":"/Users/mia/Documents/wxypwebapp/vue/node_modules/babel-loader/lib/index.js!/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mia/Documents/wxypwebapp/vue/src/views/My.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mia/Documents/wxypwebapp/vue/src/views/My.vue","mtime":1554279796536},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mia/Documents/wxypwebapp/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mia/Documents/wxypwebapp/vue/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserInfo from \"@/components/my/UserInfo\";\nimport { vuexData } from \"js/mixin\";\nimport BaseFooter from 'public/BaseFooter';\nexport default {\n  name: \"My\",\n  mixins: [vuexData],\n  components: {\n    UserInfo: UserInfo,\n    BaseFooter: BaseFooter\n  },\n  data: function data() {\n    return {\n      show: false,\n      defaultImg: 'this.src=\"' + require(\"img/vue.jpg\") + '\"',\n      orderNum: \"\",\n      //订单数量，\n      // 0,待付款 1，待发货 2，待收货 3，评价 4，已完成\n      tabs: [{\n        status: 1,\n        icon: \"balance-pay\",\n        title: \"待付款\"\n      }, {\n        status: 2,\n        icon: \"free-postage\",\n        title: \"待发货\"\n      }, {\n        status: 3,\n        icon: \"points\",\n        title: \"待收货\"\n      }, {\n        status: 4,\n        icon: \"thumb-circle-o\",\n        title: \"评价\"\n      }, {\n        status: 5,\n        icon: \"like-o\",\n        title: \"已完成\"\n      }]\n    };\n  },\n  methods: {\n    settingUser: function settingUser() {\n      this.$refs.userInfo.showPop();\n    },\n    login: function login() {\n      this.$router.push({\n        name: \"Login\"\n      });\n    },\n    address: function address() {\n      if (this.userName) {\n        this.$router.push({\n          name: \"Address\"\n        });\n      } else {\n        this.$router.push({\n          name: \"Login\"\n        });\n      }\n    },\n    collection: function collection() {\n      this.$router.push({\n        name: \"Collection\"\n      });\n    },\n    // 退出登录\n    loginOut: function () {\n      var _loginOut = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.Api.loginOut();\n\n              case 3:\n                _ref = _context.sent;\n                data = _ref.data;\n\n                if (data.code == 0) {\n                  window.location.reload();\n                  localStorage.clear();\n                }\n\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.$toast(\"网络错误\");\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function loginOut() {\n        return _loginOut.apply(this, arguments);\n      }\n\n      return loginOut;\n    }(),\n    // 最近浏览\n    goBrowse: function goBrowse() {\n      this.$router.push({\n        name: \"Browse\"\n      });\n    },\n    myOrder: function myOrder() {\n      this.$router.push({\n        name: \"MyOrder\"\n      });\n    },\n    status: function status(i) {\n      if (i == 4) {\n        this.$router.push({\n          name: \"Evaluate\"\n        });\n      } else {\n        if (i == 5) {\n          i = 4;\n        }\n\n        this.$router.push({\n          name: \"MyOrder\",\n          query: {\n            status: i\n          }\n        });\n      }\n    }\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var _ref2, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return this.Api.getOrderNum();\n\n            case 3:\n              _ref2 = _context2.sent;\n              data = _ref2.data;\n\n              if (data.code == 200) {\n                this.orderNum = data.numList;\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              this.$toast(\"网络错误\");\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 8]]);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["My.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,QAAA,MAAA,0BAAA;AACA,SAAA,QAAA,QAAA,UAAA;AACA,OAAA,UAAA,MAAA,mBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,IADA;AAEA,EAAA,MAAA,EAAA,CAAA,QAAA,CAFA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,UAAA,EAAA;AAFA,GAJA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,eAAA,OAAA,CAAA,aAAA,CAAA,GAAA,GAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAGA;AACA;AACA,MAAA,IAAA,EAAA,CACA;AAAA,QAAA,MAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,aAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,MAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,MAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,MAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,gBAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,MAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA;AALA,KAAA;AAaA,GAtBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA,KAHA;AAKA,IAAA,KALA,mBAKA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAPA;AASA,IAAA,OATA,qBASA;AACA,UAAA,KAAA,QAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA;AACA,KAfA;AAiBA,IAAA,UAjBA,wBAiBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAnBA;AAqBA;AACA,IAAA,QAtBA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAwBA,KAAA,GAAA,CAAA,QAAA,EAxBA;;AAAA;AAAA;AAwBA,gBAAA,IAxBA,QAwBA,IAxBA;;AAyBA,oBAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,kBAAA,YAAA,CAAA,KAAA;AACA;;AA5BA;AAAA;;AAAA;AAAA;AAAA;AA8BA,qBAAA,MAAA,CAAA,MAAA;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkCA;AACA,IAAA,QAnCA,sBAmCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KArCA;AAuCA,IAAA,OAvCA,qBAuCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAzCA;AA2CA,IAAA,MA3CA,kBA2CA,CA3CA,EA2CA;AACA,UAAA,CAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,YAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,CAAA,GAAA,CAAA;AACA;;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,SAAA;AAAA,UAAA,KAAA,EAAA;AAAA,YAAA,MAAA,EAAA;AAAA;AAAA,SAAA;AACA;AACA;AApDA,GAxBA;AA+EA,EAAA,OA/EA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAiFA,KAAA,GAAA,CAAA,WAAA,EAjFA;;AAAA;AAAA;AAiFA,cAAA,IAjFA,SAiFA,IAjFA;;AAkFA,kBAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,qBAAA,QAAA,GAAA,IAAA,CAAA,OAAA;AACA;;AApFA;AAAA;;AAAA;AAAA;AAAA;AAsFA,mBAAA,MAAA,CAAA,MAAA;;AAtFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n    <div class=\"page-tab my\">\n        <van-nav-bar title=\"会员中心\" :left-arrow=\"false\"/>\n        <div class=\"avatar\" v-if=\"!userName\">\n            <img\n                src=\"http://img4.imgtn.bdimg.com/it/u=198369807,133263955&fm=27&gp=0.jpg\"\n                alt\n                srcset\n            >\n            <p @click=\"login\">登录/注册</p>\n        </div>\n        <div class=\"avatar\" v-else>\n            <img :src=\"userName.avatar\" :onerror=\"defaultImg\">\n            <p class=\"usename\">欢迎您：{{userName.nickname}}</p>\n            <p @click=\"loginOut\">退出登录</p>\n            <van-icon name=\"setting\" class=\"setting\" @click=\"settingUser\"/>\n        </div>\n        <div class=\"user-links van-row\">\n            <div\n                class=\"van-col van-col--6 numlist\"\n                v-for=\"(val,index) in tabs\"\n                :key=\"val.status\"\n                @click=\"status(val.status)\"\n            >\n                <van-icon :name=\"val.icon\"/>\n                <span>{{val.title}}</span>\n                <span class=\"num\" v-if=\"orderNum && orderNum[index]!=0\">{{orderNum[index]}}</span>\n            </div>\n        </div>\n        <van-cell-group class=\"user-group\">\n            <van-cell icon=\"records\" title=\"全部订单\" is-link @click=\"status(val.status)\"/>\n        </van-cell-group>\n\n        <van-cell-group>\n            <van-cell icon=\"star-o\" title=\"收藏商品\" is-link @click=\"collection\"/>\n            <van-cell icon=\"location-o\" @click=\"address\" title=\"地址管理\" is-link/>\n            <van-cell icon=\"eye-o\" title=\"最近浏览\" is-link @click=\"goBrowse\"/>\n        </van-cell-group>\n        <UserInfo ref=\"userInfo\"/>\n        <transition name=\"fade\">\n            <router-view/>\n        </transition>\n        <BaseFooter active='3'/>\n    </div>\n</template>\n\n<script>\nimport UserInfo from \"@/components/my/UserInfo\";\nimport { vuexData } from \"js/mixin\";\nimport BaseFooter from 'public/BaseFooter'\nexport default {\n    name: \"My\",\n    mixins: [vuexData],\n\n    components: {\n        UserInfo,\n        BaseFooter,\n    },\n    data() {\n        return {\n            show: false,\n            defaultImg: 'this.src=\"' + require(\"img/vue.jpg\") + '\"',\n            orderNum: \"\", //订单数量，\n            // 0,待付款 1，待发货 2，待收货 3，评价 4，已完成\n            tabs: [\n                { status: 1, icon: \"balance-pay\", title: \"待付款\" },\n                { status: 2, icon: \"free-postage\", title: \"待发货\" },\n                { status: 3, icon: \"points\", title: \"待收货\" },\n                { status: 4, icon: \"thumb-circle-o\", title: \"评价\" },\n                { status: 5, icon: \"like-o\", title: \"已完成\" }\n            ]\n        };\n    },\n\n    methods: {\n        settingUser() {\n            this.$refs.userInfo.showPop();\n        },\n\n        login() {\n            this.$router.push({ name: \"Login\" });\n        },\n\n        address() {\n            if (this.userName) {\n                this.$router.push({ name: \"Address\" });\n            } else {\n                this.$router.push({ name: \"Login\" });\n            }\n        },\n\n        collection() {\n            this.$router.push({ name: \"Collection\" });\n        },\n\n        // 退出登录\n        async loginOut() {\n            try {\n                const { data } = await this.Api.loginOut();\n                if (data.code == 0) {\n                    window.location.reload();\n                    localStorage.clear();\n                }\n            } catch (error) {\n                this.$toast(\"网络错误\");\n            }\n        },\n\n        // 最近浏览\n        goBrowse() {\n            this.$router.push({ name: \"Browse\" });\n        },\n\n        myOrder() {\n            this.$router.push({ name: \"MyOrder\" });\n        },\n\n        status(i) {\n            if (i == 4) {\n                this.$router.push({ name: \"Evaluate\" });\n            } else {\n                if (i == 5) {\n                    i = 4;\n                }\n                this.$router.push({ name: \"MyOrder\", query: { status: i } });\n            }\n        }\n    },\n\n    async created() {\n        try {\n            const { data } = await this.Api.getOrderNum();\n            if (data.code == 200) {\n                this.orderNum = data.numList;\n            }\n        } catch (error) {\n            this.$toast(\"网络错误\");\n        }\n    }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.my {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n}\n.avatar {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    align-items: center;\n    background: #e30c7b;\n    padding: 10% 0 10% 0;\n    box-sizing: border-box;\n    position: relative;\n    img {\n        width: 70px;\n        height: 70px;\n        border-radius: 50%;\n    }\n    p {\n        color: #fff;\n        font-size: 14px;\n        margin-top: 20px;\n    }\n}\n.user {\n    &-poster {\n        width: 100%;\n        height: 100%;\n        display: block;\n    }\n    &-group {\n        margin-bottom: 0.3rem;\n    }\n    &-links {\n        padding: 15px 0;\n        font-size: 14px;\n        text-align: center;\n        background-color: #fff;\n        .van-icon {\n            display: block;\n            font-size: 24px;\n            margin-bottom: 10px;\n        }\n    }\n}\n.van-cell {\n    width: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    padding: 10px 15px;\n    box-sizing: border-box;\n    position: relative;\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    overflow: hidden;\n    align-items: center;\n    .van-cell__left-icon {\n        font-size: 16px;\n        line-height: 24px;\n        margin-right: 5px;\n    }\n    .van-cell__right-icon {\n        color: #999;\n        font-size: 12px;\n        line-height: 35px;\n        margin-left: 5px;\n    }\n}\n.usename {\n    font-weight: 700;\n    font-size: 18px !important;\n}\n.setting {\n    color: #eee;\n    font-size: 20px;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    padding: 10px;\n}\n\n.numlist {\n    position: relative;\n    width: 20%;\n}\n.numlist .num {\n    position: absolute;\n    right: 15px;\n    top: -8px;\n    color: #fff;\n    background: #e0322b;\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    line-height: 20px;\n    font-size: 14px;\n    border-radius: 50%;\n}\n</style>"],"sourceRoot":"src/views"}]}